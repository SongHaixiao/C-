# 动态数组 （ArrayList）

它代表了可被单独索引的对象的有序集合。

它基本上可以替代一个数组，但是与数组不同的是，可以使用索引在指定的位置添加和移除项目，动态数组会自动重新调整它的大小，它也允许在列表中进行动态内存分配、增加、搜索、排序各项。

## 特点

**有序的对象列表 顺序结构**


- ArrayList 很类似数组
  
- ArrayList 类没有固定大小
  
  - 可以根据需要不断增长

  - 默认大小为 16 个元素，当添加到 17th 元素时会自动扩容到 32个

  - 初始大小默认为 0，可根据添加的对象个数为其开辟空间

  - 当空间不够用时，翻倍增长

- 可以显式地指定其容量
  
- **object array** 可存储 **不同类型的元素**，因为所有 ArrayList 中的元素都是 对象 **（System.Object)**,但一般不使用

```C#
// object 类型 数组可以存任何类型的数组
// 因为 object 是所有数据类型的基类
// 一般不使用
object[] obj = new object[] { 1, 0.5f, "hello" };
```
## ArrayList 方法：

- Add(object) : 把一个对象添加到 ArrayList 末尾

- Insert（index, object) : 在指定位置插入一个对象

- Remove(object) : 移除一个指定对象

- RemoveAt（index)  ：移除一个指定位置的对象
  
- Clear() : 移除所有元素

- Sort（） ：对 ArrayList 中元素进行排序

## ArrayList 属性

- Count ： ArrayList 当前实际元素的数量

- Capacity ：ArrayList 当前实际分配的空间，当空间不够用时，翻倍增长；刚创建对象时，默认空间的大小是 0.

```C#
// 测试一些 方法 和 属性
using System;
using System.Collections;

namespace Test1
{
    class ArrayListTest
    {
        static void Main(string[] args)
        {
            // 一般数组 ： 长度固定，数据类型一直，有序的
            int[] array = { 1, 2, 3 };
            Console.WriteLine(array.Length);

            Console.WriteLine("\n==========\n");
            Console.WriteLine("Add : ");

            // 集合类型数组 ：长度可变，根据需求改变
            // 添加 System.Collections; 命名空间
            ArrayList arrayList = new ArrayList();

            // Add - 增加
            arrayList.Add(1);       // 添加对象 1
            arrayList.Add("aaa");
            arrayList.Add(0.5f);

            foreach(var item in arrayList)
            {
                Console.Write(item + " ");
            }

            Console.WriteLine("\nCount =  " + arrayList.Count); // 打印 arrayList 当前实际元素的数量
            Console.WriteLine("Capacity = " + arrayList.Capacity);  // arrayList 当前分配的空间, 当空间不够用时，翻倍增长

            arrayList.Insert(1, "hello");   // 在 index 为 1 的位置 添加对象 hello

            foreach (var item in arrayList)
            {
                Console.Write(item + " ");
            }

            Console.WriteLine("\nCount =  " + arrayList.Count); // 打印 arrayList 当前实际元素的数量
            Console.WriteLine("Capacity = " + arrayList.Capacity);  // arrayList 当前分配的空间, 当空间不够用时，翻倍增长

            Console.WriteLine("\n==========\n");
            arrayList.Add(9);
            arrayList.Add(100.23f);

            foreach (var item in arrayList)
            {
                Console.Write(item + " ");
            }

            Console.WriteLine("\nCount =  " + arrayList.Count); // 打印 arrayList 当前实际元素的数量
            Console.WriteLine("Capacity = " + arrayList.Capacity);  // arrayList 当前分配的空间,当空间不够用时，翻倍增长

            Console.WriteLine("\n==========\n");
            Console.WriteLine("Remove : ");
            // Remove - 删除
            arrayList.Remove(0.5f); // 移除指定对象 0.5f
            arrayList.RemoveAt(2);  // 移除在 index 为 2 的对象

            foreach (var item in arrayList)
            {
                Console.Write(item + " ");
            }

            Console.WriteLine("\nCount =  " + arrayList.Count); // 打印 arrayList 当前实际元素的数量
            Console.WriteLine("Capacity = " + arrayList.Capacity);  // arrayList 当前分配的空间,当空间不够用时，翻倍增长

            Console.WriteLine("\n==========\n");
            ArrayList list = new ArrayList();
            Console.WriteLine("\nBegin Capacity = " + list.Capacity);       // 刚创建对象时，空间为0

            // object 类型 数组可以存任何类型的数组
            // 因为 object 是所有数据类型的基类
            // 一般不使用
            object[] obj = new object[] { 1, 0.5f, "hello" };

            Console.WriteLine("\n==========\n");
            Console.WriteLine("modify: ");

            // 修改 - modification
            ArrayList list1 = new ArrayList();
            list1.Add("asc");
            Console.Write("1th = " + list1[0]);

            list1[0] = "edf";        // 修改 1th element
            Console.Write("1th = " + list1[0]);

            Console.WriteLine("\n==========\n");
            Console.WriteLine("inquire: ");

            // 查询
            ArrayList list2 = new ArrayList();

            Student s1 = new Student(1, "111");
            Student s2 = new Student(2, "222");
            Student s3 = new Student(3, "333");

            list2.Add(s1);
            list2.Add(s2);
            list2.Add(s3);

            for(int i = 0; i < list2.Count; i++)
            {
                Student s = list2[i] as Student;
                Console.WriteLine("Id : " + s.Id + "Name : " + s.Name);
            }
        }
    }

    public class Student
    {
        public int Id { get; set; }
        public string Name { get; set; }

        public Student()
        {

        }

        public Student(int id, string name)
        {
            this.Id = id;
            this.Name = name;
        }
    }
}
```

```
output ： 

3

==========

Add :
1 aaa 0.5
Count =  3
Capacity = 4
1 hello aaa 0.5
Count =  4
Capacity = 4

==========

1 hello aaa 0.5 9 100.23
Count =  6
Capacity = 8

==========

Remove :
1 hello 9 100.23
Count =  4
Capacity = 8

==========


Begin Capacity = 0

==========

modify:
1th = asc1th = edf
==========

inquire:
Id : 1Name : 111
Id : 2Name : 222
Id : 3Name : 333
```

## Question

1. 创建一个 ArrayList 集合，并给集合的前 10 位赋值 （1~10）
2. 将所有的偶数全部删除

```C#
using System;
using System.Collections;

namespace Test1
{
    class ArrayListTest
    {
        static void Main(string[] args)
        {
            ArrayList list = new ArrayList();

            // 1, 3, 5, 7, 9
            for(int i = 1; i < 11; i++)
            {
                list.Add(i);
            }

            for(int i = 0; i < 5; i++)
            {
                list.RemoveAt(i);
            }

            for(int i = 0; i < list.Count; i++)
            {
                Console.WriteLine(list[i]);
            }
        }
    }

}
```

```
output:

2
4
6
8
10
```
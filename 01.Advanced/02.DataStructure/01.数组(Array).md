# 数组

## 数组的定义

定义：
    相同数据类型的元素按一定顺序排列的集合，把有限个类型相同的变量用一个名字命名，然后用编号区分它们的变量的集合，这个名字称为数组名，编号为下标（或索引），有事也称为下标变量。

### 声明方式

#### 1. 声明一个未经初始化的数组引用，以后可以把这引用初始化为一个数组实例

```C#
int[] intArray;
intArray = new int[10];

注：数组的引用必须以相同或相关类型实例化，数组初始化默认值，值类型为0，引用类型为 null.
```

#### 2. 声明一个数组引用并对他进行初始化，该数组引用被立即赋予一个数组的新实例

```C#
int[] intArray = new int[10];
```

#### 3. 声明一个数组，初始化数组引用，并给数组元素赋值

```C#
int[] intArray = new int[3] {1,2,3};

注 ： 初始化列表以逗号（ ，）隔开，且列表中的个数必须与数组长度一致
```
#### 4. 与第三中方式基本相同，只是不设置数组的初始化大小，由数组元素确定

```C#
int[] intArray = new int[]{1, 2, 3};
```

#### 5. 第四种方式的简化版本，其中的数组类型与数组大小是根据初始化列表推断出来的

```C#
int[] intArray = {1, 2, 3};
```

### 数组的局限性：

- 元素个数固定，且必须在创建数组的时候就知道元素个数
  
- 元素类型必须相同
  
- 只能通过索引访问数组元素

## 数组的使用

### 数组的属性

**<font color="orange"> Length - 长度 <br> Rank - 维度 <br> IsReadOnly - 是否可读 <br> IsFixedSize - 是否固定尺寸，固定后，无法扩容 </font>**

```C#
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Lesson01
{
    struct Student
    {
        public string name;
        public string sex;
        public uint age;
        public uint score;
    }
    class FirstClass
    {
        static void Main(string[] args)
        {
            int[] intArray = new int[5];

            for(int i = 1; i <= 5; i++)
            {
                intArray[i - 1] = i * 2;
                Console.WriteLine("第 {0} 个元素的值是 {1}", i, intArray[i-1]);
            }

            Console.WriteLine("\n数组长度 : " + intArray.Length);
            Console.WriteLine("数组维度 : " + intArray.Rank);
            Console.WriteLine("是否刻度 : " + intArray.IsReadOnly);
            Console.WriteLine("是否固定尺寸 : " + intArray.IsFixedSize);
        }
    }
}
```

```
output:

第 1 个元素的值是 2
第 2 个元素的值是 4
第 3 个元素的值是 6
第 4 个元素的值是 8
第 5 个元素的值是 10

数组长度 : 5
数组维度 : 1
是否刻度 : False
是否固定尺寸 : True
```

### 数组的方法 

- Array.Clear(sourceArray, startIndex, length);             -   从 startIndex开始 清除 length 个 sourceArray 数组元素

- Array.Copy(sourceArray, destinationArray, length);  -   将 source array 源数组 复制 length 个元素 到 destination array 目的数组

- sourceArray.CopyTo(destinationArray, startIndex);   - 将源数组从 startIndex 处 至最后一个元素复制到目标数组中，需要确保目标数组能够容得下复制的源数组元素

- Array.Sort(array);                  -   数组从小到大，升序排序

- Array.Reverse(array);               -   数组从大到小，降序排序

- Array.IndexOf(array, value);        -   从第一个元素开始遍历查找 value 元素值，找到并返回 index，没有找到，则返回 -1

- Array.LastIndexOf(array, value);    -   从最后一个元素开始遍历查找 value 元素值，找到并返回 index, 没有找，则返回 -1               -

- sourceArray.GetUpperBound(int dimension);   -   获取数组指定维度的最大 Index，返回 Int32 值

- sourceArray.GetLowerBound(int dimension);   -   获取数组指定维度的最小 Index，返回 Int32 值

- sourceArray.GetLength(int dimension);       -   获取数组指定维度的长度，返回 Int32 值

- sourceArray.GetValue(int index);                   -   获取数组 index 的值

- sourceArray.SetValue(value, int index);             -   设置数组 index 的值 为 value

- CreatInstance(Type elementType, int length);         -   创建一个类型为 elementType 且 长度为 length 的新数组实例


```C#
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Lesson01
{
    struct Student
    {
        public string name;
        public string sex;
        public uint age;
        public uint score;
    }
    class FirstClass
    {
        static void Main(string[] args)
        {
            int[] intArray = new int[5];

            for(int i = 1; i <= 5; i++)
            {
                intArray[i - 1] = i * 2;
                Console.WriteLine("第 {0} 个元素的值是 {1}", i, intArray[i-1]);
            }

            // 查找
            Console.WriteLine("\n\n\n 查找：");
            Console.WriteLine(Array.IndexOf(intArray, 6));
            Console.WriteLine(Array.IndexOf(intArray, 3));
            Console.WriteLine(Array.LastIndexOf(intArray, 6));
            Console.WriteLine(Array.LastIndexOf(intArray, 3));

            
            // 排序
            intArray = new int[5] { 3, 1, 9, 4, 7 };
            Array.Sort(intArray);                       // 正序
            Console.WriteLine("\n\n\n 升序排序：");
            for (int i = 1; i <= 5; i++)
            {
                Console.WriteLine("第 {0} 个元素的值是 {1}", i, intArray[i - 1]);
            }

            Console.WriteLine("\n\n\n降序排序：");

            Array.Reverse(intArray);                       // 正序         
            for (int i = 1; i <= 5; i++)
            {
                Console.WriteLine("第 {0} 个元素的值是 {1}", i, intArray[i - 1]);
            }

            // 复制
            int[] copy = new int[intArray.Length];
            Array.Copy(intArray, copy, intArray.Length);
            Console.WriteLine("\n\n\n复制 copy：");
            for (int i = 1; i <= 5; i++)
            {
                Console.WriteLine("第 {0} 个元素的值是 {1}", i, copy[i - 1]);
            }

            intArray.CopyTo(copy, 0);
            Console.WriteLine("\n\n\n复制 CopyTo - copyArray：");
            for (int i = 1; i <= 5; i++)
            {
                Console.WriteLine("第 {0} 个元素的值是 {1}", i, copy[i - 1]);
            }

            // 清除
            Console.WriteLine("\n\n\n清除 Clear（）- copyArray：");
            Array.Clear(copy,1,2);
            for (int i = 1; i <= 5; i++)
            {
                Console.WriteLine("第 {0} 个元素的值是 {1}", i, copy[i - 1]);
            }
            

            // 上下限

            Console.WriteLine("intArray ：");

            for (int i = 1; i <= 5; i++)
            {
                Console.Write(intArray[i - 1] + " ");
            }

            Console.WriteLine("\n\n\n intArray 上限 GetUpperBound()：");
            int maxIndex = intArray.GetUpperBound(0);
            Console.WriteLine("intArray （只有一维度）最大 index : " + maxIndex);

            Console.WriteLine("\n\n\n intArray 下限 GetLowerBound()：");
            int minIndex = intArray.GetLowerBound(0);
            Console.WriteLine("intArray （只有一维度） 最小 index : " + minIndex);

            // 获得数组长度
            Console.WriteLine("\n\n\n获得数组长度：");
            int length = intArray.GetLength(0);
            Console.WriteLine("intArray 长度 : " + length);

            // 获取数组的值
            Console.WriteLine("\n\n\n获取数组的值：");
            Console.WriteLine("获取 intArray index 为 1 的值 : " + intArray.GetValue(1));


            // 设置数组的值
            Console.WriteLine("\n\n\n设置数组的值：");
            intArray.SetValue(1000, 1);
            Console.WriteLine("设置 intArray index 为 1 的 值 是 1000 : " + intArray.GetValue(1));

            // 创建一个类型为 elementType 且 长度为 length 的新数组实例
            Console.WriteLine("\n\n\n创建一个类型为 Int32 且 长度为 5 的新数组实例：");
            Array my1DArray = Array.CreateInstance(typeof(Int32), 5);
            for (int i = my1DArray.GetLowerBound(0); i <= my1DArray.GetUpperBound(0); i++)
                my1DArray.SetValue(i + 1, i);

            foreach(int item in my1DArray)
            {
                Console.Write(item + " " );
            }

            Console.WriteLine();
        }
    }
}
```

```
output:

第 1 个元素的值是 2
第 2 个元素的值是 4
第 3 个元素的值是 6
第 4 个元素的值是 8
第 5 个元素的值是 10



 查找：
2
-1
2
-1



 升序排序：
第 1 个元素的值是 1
第 2 个元素的值是 3
第 3 个元素的值是 4
第 4 个元素的值是 7
第 5 个元素的值是 9



降序排序：
第 1 个元素的值是 9
第 2 个元素的值是 7
第 3 个元素的值是 4
第 4 个元素的值是 3
第 5 个元素的值是 1



复制 copy：
第 1 个元素的值是 9
第 2 个元素的值是 7
第 3 个元素的值是 4
第 4 个元素的值是 3
第 5 个元素的值是 1



复制 CopyTo - copyArray：
第 1 个元素的值是 9
第 2 个元素的值是 7
第 3 个元素的值是 4
第 4 个元素的值是 3
第 5 个元素的值是 1



清除 Clear（）- copyArray：
第 1 个元素的值是 9
第 2 个元素的值是 0
第 3 个元素的值是 0
第 4 个元素的值是 3
第 5 个元素的值是 1
intArray ：
9 7 4 3 1


 intArray 上限 GetUpperBound()：
intArray （只有一维度）最大 index : 4



 intArray 下限 GetLowerBound()：
intArray （只有一维度） 最小 index : 0



获得数组长度：
intArray 长度 : 5



获取数组的值：
获取 intArray index 为 1 的值 : 7



设置数组的值：
设置 intArray index 为 1 的 值 是 1000 : 1000



创建一个类型为 Int32 且 长度为 5 的新数组实例：
1 2 3 4 5
```
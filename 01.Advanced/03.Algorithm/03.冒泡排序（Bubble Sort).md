# 冒泡排序 （Bubble Sort）

冒泡排序运行起来非常慢，但在概念上排序算法中最简单的，在刚开始研究排序时也是一种很好的排序算法.

### 描述

1. 比较两个数据项；
2. 如果左边的数据项大，交换两个数据项；
3. 向右移动位置重复1、2步.


### 关键
1. 需要冒泡的趟数；
2. 如何控制两两比较；
3. 如何优化不和已冒泡的最大值进行比较.

```C#
using System;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations;

namespace Test1
{
    class Test
    {
        static void Main(string[] args)
        {
            int[] arr = new int[5] { 3, 8, 4, 7, 2 };

            PrintArray(arr, "Origin : ");

            for (int i = 0; i < arr.Length - 1; i++)
            {
                // 两两比较
                // j 与 j-1 容易，不容易越界
                for (int j = 1; j < arr.Length - i; j++) 
                {
                    if (arr[j - 1] > arr[j])
                    {
                        Swap(ref arr[j - 1], ref arr[j]);
                    }
                }
            }

            PrintArray(arr, "Sorted : ");
        }

        public static void Swap(ref int n1, ref int n2)
        {
            // swap
            //int temp = n1;
            //n1 = n2;
            //n2 = temp;

            // 求和法 swap
            n1 = n1 + n2;
            n2 = n1 - n2;
            n1 = n1 - n2;
        }

        public static void PrintArray(Array arr, String s)
        {
            Console.WriteLine("\n\n" + s);

            foreach (var item in arr)
            {
                Console.Write(item + " ");
            }
        }
    }

    
}
```

```
output:


Origin :
3 8 4 7 2

Sorted :
2 3 4 7 8
```
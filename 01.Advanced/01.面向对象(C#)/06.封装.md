# 封装

**行为** 和 **属性** 的结合。

封装定义程序如何引用对象的数据，封装实际上使用方法将类和数据隐藏起来，控制用户类的修改和访问数据的成都。

### 含义

提供将所抽象出的问题的 **属性（数据成员）** 和 **行为（代码成员）** 相结合的一种机制，它能将这二类成员再组合在一起，形成对象或实体。

### 目的

增强使用的安全性，使用者不必了解具体的实现细节，而只需要通过设计者提供的外部接口来操作它。

### 优点

实现高度模块化，从而产生出软件 **构件（控件）**。

利用控件，可以快速地组装程序。

客户可以调用一个不了解内部机制的对象方法。

任何关于内部的改的对客户来说都是隐藏的。

### 封装的基本要求

- 有一个特定的边界 ： 所有的内部变化都限制在此边界内(类定义的 {});

- 有外部接口（方法）：此对象利用它与其他对象发生关联（public);

- 有特定的访问权限 ：在对象外部不能访问或修改受保护的内部实现细节（private);

    例子 ： 银行的取钱方案。

```C#
using System;

namespace Lesson01
{
    class FirstClass
    {
        static void Main(string[] args)
        {
            Animal a = new Animal("Monkey", "Brown");
            
            // C++ Format
            // 对字段操作
            Console.WriteLine(a.getName() + "  " + a.getColor());

            a.setName("Ha");
            a.setColor("green");
            Console.WriteLine(a.getName() + "  " + a.getColor());

            // C# Format
            // 对存在的字段封装属性操作
            a.Name = "Kity";
            Console.WriteLine(a.Name);

            // 对不存在的字段封装属性操作
            a.Age = "3";
            Console.WriteLine(a.Age);
        }
    }

    public class Animal
    {
        private string name;    // 字段
        private string color;

        // constructor
        public Animal(string name, string color)
        {
            this.name = name;
            this.color =color;
        }

        // C# format
        // 封装 ： 属性，字段 + 方法
        // 对 字段 name 进行封装
        public string Name      // 属性
        {
            get { return this.name; }        // a.Name 访问 get 方法 赋值
            set { this.name = value; }  // a.Name = "tom" 访问 set 方法 赋值
        }

        // 对 字段 color 进行封装
        public string Color
        {
            get { return this.color; }
            set { this.color = value; }
        }

        // 省略 字段 封装
        public string Age
        {
            get;
            set;
        }

        // C++ format
        // method 对 字段操作
        // set name
        public void setName(string name)
        {
            this.name = name;
        }

        // get name
        public string getName() 
        {
            return this.name;
        }

        // set color
        public void setColor(string color)
        {
            this.color = color;
        }

        // get color
        public string getColor()
        {
            return this.color;
        }

        
    }
}
```
```
output:

Monkey  Brown
Ha  green
Kity
3
```
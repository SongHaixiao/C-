# 方法的使用

### 1. 参数传递

1. **命名参数** : 是指通过命名参数（形参名）调用，实参顺序可以和形参不同。

```C++
using System;

namespace Test
{
    class Program
    {
        static void Main(string[] args)
        {

            int sum = Add(2,4);  
            Console.WriteLine(sum);
        }

        static int Add(int a, int b)    // 命名参数 a, b
        {
            int c = a + b;
            return c;
        }
    }
}
```

2. **可选参数** : 是指给方法的特定参数指定默认值，在调用方法时可以省略掉这些参数.
   
```
可选参数注意事项： 
    (1) 可选参数不能为参数列表的第1个参数，必须位于所有的必选参数之后（除非没有必选参数）；
    (2) 可选参数必须指定一个默认值，且默认值必须是一个常量表达式，不能为变量；
    (3) 所有可选参数以后的参数都必须是可选参数；
    (4) 若要为可选参数传递新的值，请使用命名参数的语法.
```

```C++
using System;

namespace Test
{
    class Program
    {
        static void Main(string[] args)
        {
            int sum = Add(2);       // 可选参数 b = 2 默认值
            Console.WriteLine(sum);

            sum = Add(2, b: 4);     // 可选参数 b = 4, 默认值 b = 2 被覆盖
            Console.WriteLine(sum);
        }

        static int Add(int a, int b = 2)
        {
            int c = a + b;
            return c;
        }
    }
}

// Output
// 4
// 6
```

3. **out** 和 **ref** 传递的都是引用而不是值， **out** 侧重于输出使用之前不需赋值而， **ref** 在使用之前需要赋值，另外这两个关键字可以变相实现一个方法输出多个值.

- **out** 在一个方法中 可以 返回 多个值
  
- **ref** 在一个方法中 返回 一个值
  
```C++
// 测试 ref
using System;

namespace Test
{
    class Program
    {
        static void Main(string[] args)
        {
            int sum = 0;            // ref 类型参数 必须要进行初始化
            Add(2, 3, ref sum);     // 从 Add 方法中 传回 c 给 sum
            Console.WriteLine(sum);
        }

        static void Add(int a, int b, ref int c)
        {
            c = a + b;
        }
    }
}

// Output
// 5

// 测试 out
//using System;

namespace Test
{
    class Program
    {
        static void Main(string[] args)
        {
            int sum;            // out 类型参数 可以不初始化
            Add(2, 3, out sum);     // 从 Add 方法中 传回 c 给 sum
            Console.WriteLine(sum);
        }

        static void Add(int a, int b, out int c)
        {
            c = a + b;
        }
    }
}

// Output
// 5
```
   
### 2. 方法调用

#### 调用同一个类中的方法

- 在主函数中调用 方法，并传递参数.

#### 调用不同类中的方法

- 点寻址方式调用 ： ClassName. MethodName(parameter)

- 点寻址方式调用的方法为 public 类型的


```C++
using System;

namespace Test
{
    class Program
    {
        static void Main(string[] args)
        {
            int sum;            
            Add_Same_Class(2, 3, out sum);    // 调用同一个类中的方法
            Console.WriteLine(sum);

            int sum2 = 0;
            AnotherClass.Add_Another_Class(2, 3, ref sum2);    // 调用同一个类中的方法
            Console.WriteLine(sum2);
        }

        static void Add_Same_Class(int a, int b, out int c)
        {
            c = a + b;
        }
    }

    class AnotherClass
    {
        public static void Add_Another_Class(int a, int b, ref int c)
        {
            c = a + b;
        }
    }
}
```
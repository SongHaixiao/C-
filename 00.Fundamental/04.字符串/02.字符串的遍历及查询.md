# 字符串的遍历及查询

## 字符串的遍历

- 字符串是一个字符数组，所以可以用遍历数组的方式遍历字符串的每一个位子的字符。
  
- 注意：
  - 字符串中的字符位置和数组一样从下标 0 开始.
  - 字符串和数组一样有 **Length** 属性.
  - 字符串和数组一样可以按索引的方式访问.

```C#
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Lesson01
{
    class FirstClass
    {
        static void Main(string[] args)
        {
            string s1 = "A Cinderella Story.";

            // for(int i = 0; i < s1.Length; i++)
            // {
            //     Console.WriteLine(s1[i]);
            // }

            foreach (char item in s1)
            {
                Console.WriteLine(item);
            }
        }
    }
}
```

> foreach( var item in collection) { }
> 
> 当 不知道 item 为什么类型的时候，var 自动识别

```
output:
A

C
i
n
d
e
r
e
l
l
a

S
t
o
r
y
.
```
### **<font color="orange"> String.IndexOf(value(String), startIndex(Int32), count(Int32))  </font>**

报告指定字符在此实例中的 **<font color="red"> 第一个 </font>** 匹配项的索引，搜索从指定字符位置开始，并检查指定数量的字符位置.

- value : 要查找的 Unicode 字符
- startIndex : 搜索起始位置
- count : 要检查的字符位置数
- 返回值（Int32） ： 如果找到该字符，则为 value 的索引位置；否则如果未找到，则为 -1.
- String.IndexOf(value) ： 省略 startIndex, count 则默认从开头到结尾的查询

### **<font color="orange"> String.LastIndexOf(value(String)) </font>**

报告指定字符在此实例中的 **<font color="red"> 最后一个 </font>** 匹配项的索引，搜索从起始位置开始，并检查至结尾的位置.

```C#
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Lesson01
{
    class FirstClass
    {
        static void Main(string[] args)
        {
            string s1 = "A Cinderella Story.";

            int index = s1.IndexOf("S", 0, 18); 
            Console.WriteLine(index);           // 13

            index = s1.IndexOf("S");
            Console.WriteLine(index);           // 13  省略 startIndex, count ---> 从开头查询到结尾

            index = s1.IndexOf("Cn");           
            Console.WriteLine(index);           // -1  s1 字符串中没有 Cn

            index = s1.IndexOf("Ci");           
            Console.WriteLine(index);           // 2   返回找到匹配的 第一个 字符 C 的位置 2

            index = s1.IndexOf("e");
            Console.WriteLine(index);           // 6   返回找到匹配的 第一个 字符 e 的位置 6

            index = s1.LastIndexOf("e");
            Console.WriteLine(index);           // 8   返回找到匹配的 最后一个 字符 e 的位置 8

            // 遍历 e 出现的所有位置
            for (int i = 0; i < s1.Length; i++) 
            {
                if(s1[i] == 'e')
                {
                    Console.WriteLine("Print the index for all 'e' : " + i);        // 6 8
                }
            }
        }
    }
}
```
# 字符串的创建及特性

## 1. 字符串的创建方式

1. 使用 string s = "" 的方式
  
   - string 基本变量类型
  
   - 最常用的方式
  
   - s 存储的是指向 字符内容的 **地址**
  
2. 使用字符串的构造方法

   - 用面向对象的方法，构造一个字符串的方法，来创建字符串 
   
   - string s = new string("".ToCharArray())

3. Copy 的方式  (被废弃)
   
    - string copyS = String.Copy(); //  用 String.Copy() 方法， 赋值一个 字符串
  
4. Clone 的方式

    string Clone 后得到的是一个 object 基类， string 类型 继承于 object 基类

    object -> string 属于大范围转向小范围，需要强制转换；而小范围转向大范围，隐式转换.

    强制转换的两种办法

    - (type) variable;
  
    - variable as type;    

      - string cloneS = (string)s.Clone();    
       
      - string cloneS1 = s.Clone() as string;  

```C++
using System;
using System.Security.Cryptography;

namespace Test
{
    class Program
    {
       static void Main(string[] args)
        {
            string s = "abcd";      //  s 存储的是指向 字符串 "abcd" 的地址
            Console.WriteLine(s);

            string s1 = new string("def".ToCharArray());
            Console.WriteLine(s1);

            string copyS = String.Copy(s1); //  用 String.Copy() 方法， 赋值一个 字符串 被废弃了
            Console.WriteLine(copyS);

            string cloneS = (string)s.Clone();     // string Clone 后得到的是一个 object 类， string 类型 继承于 object 基类
            string cloneS1 = s.Clone() as string;  // object -> string 大范围转向小范围强制转换；小范围转向大范围，隐式转换.
            Console.WriteLine(cloneS);
            Console.WriteLine(cloneS1);
        }

    }
}
```

## 2. 字符串的特性

- 字符串是 **引用类型**
  
<br>
  
- C# 中字符串有一个重要的特性：**不可变性，字符串一旦声明就不可以再改变.**
  
<br>

- **字符串的不可变性指的是存储中的字符串内容不可变，不是string变量所存储的字符串地址不可变, 及字符串变量的 引用改变，指向的地址变了.**

<br>

- **注意：对该对象的任何操作都将返回一个新的字符串对象，除了 Clone，Clone 直接将该字符串的引用返回了.**

```C++
string s = "abcd";      //  s 存储的是指向 字符串 "abcd" 的地址
s = "123";              //  s 此时存储的是指向 字符串 "123" 的地址
```

```C++
using System;
using System.Security.Cryptography;

namespace Test
{
    class Program
    {
       static void Main(string[] args)
        {
            string s1 = "A Cinderella Story";
            Console.WriteLine(s1.Length);
        }

    }
}

// Output
// 18
```